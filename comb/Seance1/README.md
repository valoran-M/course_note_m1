---
jupytext:
  cell_metadata_filter: -all
  formats: md:myst
  text_representation:
    extension: .md
    format_name: myst
    format_version: 0.13
    jupytext_version: 1.15.2
kernelspec:
  display_name: SageMath 10.1
  language: sage
  name: sagemath
---

# Séance 1: rappels d'algèbre / algebra review

- [Cours](algebre.md) / [Lecture](algebra.md)
- [TP](TP.md) / [TP](assignment.md)

## Rapport / report

+++

### Liste des fichiers de code / List of code files

- [moncode.py](moncode.py)
- ...

+++

### Lancement des tests / Launching the tests

```{code-cell} ipython3
!pyflakes moncode.py
```

```{code-cell} ipython3
!mypy moncode.py
```

```{code-cell} ipython3
!sage -t moncode.py
```

### Description du travail accompli / Description of the work done

:::{admonition} Consignes / Instructions
:class: dropdown

Pour chacun des items ci-dessous, donnez une autoévaluation de votre
avancement, de A (travaillé en profondeur et maitrisé) à F (je n'ai
pas essayé). Préciser le cas échéant en indicant vos éventuelles
difficultés ou questionnements rencontrés, ce qu'il reste à faire, ce
que vous avez appris, ce qui vous a plu ou non. Pour les exercices du
TP, mettez un lien vers votre travail. Pour les trois derniers
exercices, rappelez ici la complexité de votre implantation.

For each item below, provide a self-evaluation of your progress, from
A (worked out in depth) to F (I haven't tried). When relevant, mention
briefly difficulties or questionning you may have encountered, what
remains to do, what you learned, what you enjoyed or not. For the
assignment, add a link to your work. For the last three exercises,
recall here the complexity of your implementation.

:::

+++

#### Cours / Lecture: A

+++

#### Prise en main / Getting started: A

+++

#### Élimination de Gauß / Gauß elimination: A

```{code-cell} ipython3
def reduced_echelon_form(m: matrix) -> matrix:
    """
    Renvoie la matrice `m` mise sous forme échelon 

    EXAMPLES::
        sage: reduced_echelon_form(matrix(GF(5), [[0,0,3,1,4], [3,1,4,2,1], [4,3,2,1,3]]))
        [3 1 4 2 1]
        [0 0 3 1 4]
        [0 0 0 0 0]
    """
    i = 0
    j = 0
    while j < m.ncols() and i < m.nrows():
        # get first line with an element != 0 in the j column
        l = -1
        for k in range(i, m.nrows()):
            if m[k][j] != 0:
                l = k
                break

        if l == -1:
            j += 1
        else:
            m[i], m[l] = m[l], m[i]
            for k in range(i + 1, m.nrows()):
                if m[k][j] != 0:
                    m[k] = m[k] * m[i][j] - m[i] * m[k][j]
            i += 1
            j += 1
    return m
```

n = ncols
m = nrows

Complexité O(n * m), dans le pire des cas on parcours chaques cases de la
matrice.

On supose que échanger deux lignes et faire des opertations sur toute la ligne
a une complxité constante.

+++

#### Test d'appartenance à un sous espace vectoriel / Vector subspace membership testing: B

```{code-cell} ipython3
def subspace_membership(V: matrix, w):
    """
    Test whether `w` is generated by the vectors in `V`.

    EXAMPLES::
        sage: subspace_membership(matrix(GF(5), [[0,0,3,1,4], [3,1,4,2,1], [4,3,2,1,3]]), [1, 1, -2]) 
        True
    """
    if V.nrows() < len(w):
        return False
    W = []
    for i in range(V.nrows()):
        if i >= len(w):
            W.append(list(V[i]) + [0])
        else:
            W.append(list(V[i]) + [w[i]])
    W = matrix(W)
    W = reduced_echelon_form(W)

    for row in W:
        l = len(row)
        if row[l-1] != 0:
            for c in row[0:l-1]:
                if c != 0:
                    break
            else:
                return False
    return True
```

On supose que l'operation d'échelonage est constante.

On parcours chaques case de la matrice auquel on a rajouté une colone pour le
vecteur une seule foit.

n = ncols
m = nrows

O((n + 1) * m) = O(n * m)

+++

#### Calcul d'une base de la somme de deux espaces vectoriels / Computation of the sum of two vector spaces: A

```{code-cell} ipython3
def add_subspace(V, W):
    """
    Return the base of the sum of `V` and `W`

    EXEMPLES::
        sage: add_subspace([[1, 0, 0], [0, 1, 0]], [[0, 0, 1]])
        [[1, 0, 0], [0, 1, 0], [0, 0, 1]]
    """
    M = matrix(V)
    B = V
    for w in W:
        if not subspace_membership(M, w):
            B.append(w)
    return B
```
